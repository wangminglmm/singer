{"version":3,"sources":["webpack:///./src/assets/images/icon-erji.png","webpack:///src/pages/lead-record.vue","webpack:///./src/pages/lead-record.vue?0c39","webpack:///./src/pages/lead-record.vue"],"names":["module","exports","lead_record","data","title","list","songName","songAuthor","lyricList","songId","playCount","created","this","getData","computed","extends_default","Object","vuex_esm","methods","onClickLeft","$router","back","_this","$http","get","then","console","log","start","url","aud","$refs","paused","play","pause","end","handlePlayMusic","_this2","userInfo","p","indexOf","that","res","error_code","link","setTimeout","$toast","msg","playVoice","watch","components","pages_lead_record","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","left-text","left-arrow","on","click-left","_v","_l","item","index","key","lyric","i","_s","click","$event","leaderMusic","src","__webpack_require__","alt","ref","refInFor","controls","ended","length","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/4.1531e5f8778438848698.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDdFMkI0MUE0RkNCMTFFOTg2MjdBRTVEREVGRDBFRjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDdFMkI0MUI0RkNCMTFFOTg2MjdBRTVEREVGRDBFRjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEN0UyQjQxODRGQ0IxMUU5ODYyN0FFNURERUZEMEVGMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEN0UyQjQxOTRGQ0IxMUU5ODYyN0FFNURERUZEMEVGMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PohQ60oAAAMESURBVHja7JhJaBRBFIYr7RLjFhFRzx4SERUTIpqoExdEJaKoIKIQBRMdFbwouCB4khE0nlzQQ8CLuweDRgW3RJMRt4DiRRD0ZDyoaFAJcfsf8waG+KqmerqrB3F++Bjoqun6eVWvul4VxaoPqxxVAmaBuWAqKAPjwXBu7wHd4BV4Dm6DJOjNfElb5w6rwQbmYHAGiINVYISh3yhmIlgG9oEv4AI4CZ74GdTzafAOeAg2ZDGp00jQAB6DG6DC9o9FFlNPU3kIbKb+Klz9AkfBbiyB70EiOpmnKO7AZHr87eBRbU1Tea4RrQUtPF0mUdLcB8/AW/CRn48GE0AlmA2GZXkP/W8pIpv0Y5RMXufM1ukmOAFaQV8WE8VkAmwF8w39aPoXSGalqZ/CkdSZfApqwGJwxcKk4i3pMpkAMd6udFveVWkZeELiXDRM9wHO/mSAdUnLpAo0adppyVyC2RKT0SNAWtQUtXW8F/4MIYnofTvBRs58KYkP6oxWg0bNi+vBGQdZ32wYcxuiWiEZTRim+5xyJCROs2YZDMj0lDYa40zvL/qC7FfutQe8EJ4vQlQrM41u0oU/pDWZLap9PJakeNoobcQrhA6tHNFIBLO0G7QJTasR1WKPp3yo0OG4il7HhGellOhkdJ7Q+Im/PFGrhb9Of30pPT709lc7+BG1S0w/fcEeCE3TPM0G36XyJ2nsMjI6Rmh4nUej0tjjPM3xqyePRj9Lh3fPR+eo1CsdEz31j0hXhdbxb4fleTOwsKkPxs8csNBPzURHsLu8sOsiMElfxjfgFlcBYiny26JSXMmneRdaA86GUddTn1MWxVkuKuW6K7QLiLFgiQOjy/k2JdSbknIHRie5uNIZ5MDoEBdG86qC0YLRgtH/0ejXAAfaoHpv28/jU5KN7jkw2m7bj4wmlHyjlqlrjgq+DotAUTWcIKOdYIvBLBlc73D5rQUvDSYbUEZ3pZOJjnEzVeoSt5vXLRncpVK3yx8c1vI0Hl0O71Wpm+hv4B04D6aj/TT1+yPAALLWrEH0MVTNAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icon-erji.png\n// module id = 0Yys\n// module chunks = 4","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar\r\n      :title=\"title\"\r\n      left-text=\"\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    <div class=\"list\">\r\n      <div class=\"list-item shadow-box\"\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\">\r\n        <div\r\n          class=\"desc ellipsis\"\r\n          v-for=\"(lyric,i) in item.lyricList\"\r\n          :key=\"i\"\r\n        >{{lyric}}</div>\r\n        <div class=\"song\">《{{item.songName}}》 {{item.songAuthor}}</div>\r\n        <span class=\"paly-btn\" @click=\"handlePlayMusic(item.leaderMusic)\"><img src=\"../assets/images/icon-erji.png\" class=\"icon-erji\" alt=\"\">点击试听\r\n        <audio :src=\"item.leaderMusic\" :ref=\"item.leaderMusic\" controls=\"\" @ended=\"end()\" class=\"hide\"></audio>\r\n        </span>\r\n        \r\n        <!--<div class=\"play-count\">播放次数：{{item.playCount}}</div>-->\r\n      </div>\r\n      <div class=\"no-data\" v-if=\"!list.length\">暂无领唱，快去首页领唱吧！</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"我的领唱\",\r\n      list: [\r\n        {\r\n          songName: '绿色',\r\n          songAuthor: '陈雪凝',\r\n          lyricList: ['说不痛苦那是假的，毕竟我的心也是肉做的', '你离开时我心里的彩虹，就变成灰色'],\r\n          songId: 1,\r\n          playCount: 100\r\n        },\r\n        {\r\n          songName: '绿色',\r\n          songAuthor: '陈雪凝',\r\n          lyricList: ['说不痛苦那是假的，毕竟我的心也是肉做的', '你离开时我心里的彩虹，就变成灰色'],\r\n          songId: 1,\r\n          playCount: 100\r\n        },\r\n        {\r\n          songName: '绿色',\r\n          songAuthor: '陈雪凝',\r\n          lyricList: ['说不痛苦那是假的，毕竟我的心也是肉做的', '你离开时我心里的彩虹，就变成灰色'],\r\n          songId: 1,\r\n          playCount: 100\r\n        },\r\n        {\r\n          songName: '绿色',\r\n          songAuthor: '陈雪凝',\r\n          lyricList: ['说不痛苦那是假的，毕竟我的心也是肉做的', '你离开时我心里的彩虹，就变成灰色'],\r\n          songId: 1,\r\n          playCount: 100\r\n        },\r\n        {\r\n          songName: '绿色',\r\n          songAuthor: '陈雪凝',\r\n          lyricList: ['说不痛苦那是假的，毕竟我的心也是肉做的', '你离开时我心里的彩虹，就变成灰色'],\r\n          songId: 1,\r\n          playCount: 100\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userInfo\"]),\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.back();\r\n    },\r\n    getData() {\r\n      this.$http.get('/sing/leaderRecord').then((data) => {\r\n        console.log(data);\r\n        this.list = data.data;\r\n      })\r\n    },\r\n    start(url) {\r\n      let aud = this.$refs[url][0]\r\n      if(aud.paused){\r\n        aud.play()\r\n        //this.icon = 'stop-circle-o'\r\n      }else{\r\n        aud.pause()\r\n        //this.icon = 'play-circle-o';\r\n      }\r\n    },\r\n    end() {\r\n      //this.icon = 'play-circle-o';\r\n    },\r\n    handlePlayMusic(url) {\r\n      console.log(this.userInfo)\r\n      // todo 这里调用原生播放音乐\r\n      console.log(url)\r\n\r\n      if(this.userInfo.p == 'ios'){\r\n        if(url.indexOf('.amr') != -1){\r\n          var that = this;\r\n          this.$http.get('/sing/getMp3Link?link='+url).then((res) => {\r\n            if(res.error_code == 0){\r\n              that.link = res.data.link;\r\n              setTimeout(()=>{\r\n                that.start(url);\r\n              },2000);\r\n              \r\n            }else{\r\n              this.$toast(res.msg);\r\n            }\r\n          });\r\n        }else{\r\n          setTimeout(()=>{\r\n            this.start(url);\r\n          },200)\r\n        }\r\n      }else{\r\n        playVoice(this.userInfo.p,url);\r\n      }\r\n      //alert(\"这里调用原生播放音乐\");\r\n    }\r\n  },\r\n  watch: {},\r\n  components: {}\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"../assets/css/variable\";\r\n.container {\r\n  background: url(../assets/images/publish-bg.jpg) no-repeat center 46px;\r\n  background-size: 100% torem(756);\r\n}\r\n.list{\r\n  padding: torem(0) torem(55) torem(0);\r\n  .list-item{\r\n    padding: torem(70) torem(60) torem(160);\r\n    margin-top: torem(34);\r\n    text-align: center;\r\n    position: relative;\r\n    &:nth-first-of-type(1){\r\n      margin-top: torem(54);\r\n    }\r\n    &:nth-last-of-type(1) {\r\n      margin-bottom: torem(30);\r\n    }\r\n    .desc{\r\n      font-size: torem(36);\r\n      color: #deddfd;\r\n      line-height: torem(64);\r\n    }\r\n    .song{\r\n      font-size: torem(30);\r\n      color: #ffde44;\r\n      margin: torem(20) 0;\r\n    }\r\n    .paly-btn{\r\n      font-size: torem(36);\r\n      color: #3a3586;\r\n      position: relative;\r\n      .icon-erji{\r\n        width: torem(42);\r\n        margin-top: torem(-8);\r\n        margin-right: torem(10);\r\n      }\r\n      &:before{\r\n        content: '';\r\n        position: absolute;\r\n        bottom: torem(-10);\r\n        height: 1px;\r\n        width: 100%;\r\n        background-color: #3a3586;\r\n      }\r\n    }\r\n    .play-count{\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      height: torem(108);\r\n      line-height: torem(108);\r\n      text-align: right;\r\n      font-size: torem(36);\r\n      color: #5149c2;\r\n      padding-right: torem(30);\r\n      box-sizing: border-box;\r\n      background-color: #b7b4ec;\r\n      width: 100%;\r\n      border-radius: 0 0 torem(60) torem(20);\r\n    }\r\n  }\r\n}\r\n.mt20 {\r\n  margin-top: torem(20);\r\n}\r\n.shadow-box {\r\n  background-color: rgb(111, 104, 216);\r\n  border-radius: torem(60) torem(20) torem(60) torem(20);\r\n  padding: torem(80) torem(60);\r\n  box-shadow: 0px torem(14) torem(10) 0px rgba(85, 65, 162, 0.4),\r\n    inset 0px torem(23) torem(62) 0px rgba(255, 255, 255, 0.5);\r\n}\r\n.no-data{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate3d(-50%, -50%, 0);\r\n  color: #ccc;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/lead-record.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.title,\"left-text\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"list-item shadow-box\"},[_vm._l((item.lyricList),function(lyric,i){return _c('div',{key:i,staticClass:\"desc ellipsis\"},[_vm._v(_vm._s(lyric))])}),_vm._v(\" \"),_c('div',{staticClass:\"song\"},[_vm._v(\"《\"+_vm._s(item.songName)+\"》 \"+_vm._s(item.songAuthor))]),_vm._v(\" \"),_c('span',{staticClass:\"paly-btn\",on:{\"click\":function($event){return _vm.handlePlayMusic(item.leaderMusic)}}},[_c('img',{staticClass:\"icon-erji\",attrs:{\"src\":require(\"../assets/images/icon-erji.png\"),\"alt\":\"\"}}),_vm._v(\"点击试听\\n      \"),_c('audio',{ref:item.leaderMusic,refInFor:true,staticClass:\"hide\",attrs:{\"src\":item.leaderMusic,\"controls\":\"\"},on:{\"ended\":function($event){return _vm.end()}}})])],2)}),_vm._v(\" \"),(!_vm.list.length)?_c('div',{staticClass:\"no-data\"},[_vm._v(\"暂无领唱，快去首页领唱吧！\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ba341e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/lead-record.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ba341e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./lead-record.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./lead-record.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./lead-record.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ba341e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./lead-record.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ba341e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/lead-record.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}