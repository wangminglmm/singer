{"version":3,"sources":["webpack:///./src/assets/images/fail.png","webpack:///./src/assets/images/success.png","webpack:///./src/assets/images/join-banner.jpg","webpack:///./src/assets/images/icon-recording.png","webpack:///./src/components/dialog-join.vue?4e97","webpack:///./src/components/dialog-join.vue","webpack:///src/pages/join.vue","webpack:///./src/pages/join.vue?95e5","webpack:///./src/pages/join.vue"],"names":["module","exports","__webpack_require__","p","dialog_join","render","_h","this","$createElement","_self","_c","staticClass","attrs","src","alt","staticRenderFns","components_dialog_join","normalizeComponent","join","data","title","showRule","showResult","info","imgUrl","taskInfo","resultImg","start","created","$route","query","JSON","parse","console","log","operateType","computed","extends_default","Object","vuex_esm","userInfo","type","leader","taskId","methods","onClickLeft","$router","back","onClickRight","handlePlayMusic","playVoice","leaderMusic","handRecord","_this","obj","act","id","songId","setTimeout","Voice","lyric","stringify_default","voiceCall","res","_this2","error_code","$toast","msg","push","path","mounted","_this3","window","components","Button","Avatar","avatar","ButtonPlay","button_play","DialogJoin","pages_join","_vm","left-text","left-arrow","on","click-left","_v","click","$event","seller","avatarUrl","uid","nickName","_s","grade","score","_e","_l","item","index","key","songName","songAuthor","musicUrl","color","_f","remainTime","remainGold","text","overlay-class","model","value","callback","$$v","expression","join_Component","join_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/2.7a93c2dbc79bce504346.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/fail.9e7952f.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/fail.png\n// module id = 3XzQ\n// module chunks = 2","module.exports = __webpack_public_path__ + \"img/success.54563e0.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/success.png\n// module id = 4AGf\n// module chunks = 2","module.exports = __webpack_public_path__ + \"img/join-banner.e44a018.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/join-banner.jpg\n// module id = HI59\n// module chunks = 2","module.exports = __webpack_public_path__ + \"img/icon-recording.b0fe000.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/icon-recording.png\n// module id = TWtK\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{staticClass:\"img\",attrs:{\"src\":require(\"../assets/images/success.png\"),\"alt\":\"\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-43169af5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dialog-join.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43169af5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./dialog-join.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dialog-join.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar\r\n      :title=\"title\"\r\n      left-text=\"\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n    />\r\n    <section class=\"banner\">\r\n      <img\r\n        src=\"../assets/images/join-banner.jpg\"\r\n        alt=\"\"\r\n      >\r\n      <div class=\"button-operate\">\r\n      </div>\r\n      <div\r\n        class=\"btn-rule\"\r\n        @click=\"showRule=true\"\r\n      >活动规则</div>\r\n    </section>\r\n    <div class=\"detail\">\r\n      <div class=\"joiner\">\r\n        <template v-if=\"operateType==='join_member' || operateType==='join_leader'\">\r\n          <div class=\"top\">\r\n            <div class=\"left\">\r\n              <Avatar\r\n                :imgUrl=\"taskInfo.seller.avatarUrl\"\r\n                :uid=\"taskInfo.seller.uid\"\r\n                :nickName=\"taskInfo.seller.nickName\"\r\n                type=\"seller\"\r\n              />\r\n              <div class=\"seller-info\">\r\n                <div class=\"seller-name\">{{taskInfo.seller.nickName}}</div>\r\n                <div class=\"seller-grade\">{{taskInfo.grade}}</div>\r\n              </div>\r\n\r\n            </div>\r\n            <div\r\n              class=\"right\"\r\n              v-if=\"taskInfo.leader\"\r\n            >\r\n              <Avatar\r\n                :imgUrl=\"taskInfo.leader.avatarUrl\"\r\n                :uid=\"taskInfo.leader.uid\"\r\n                :nickName=\"taskInfo.leader.nickName\"\r\n                type=\"buyer\"\r\n              />\r\n              <div class=\"buyer-info\">\r\n                <div class=\"buyer-name\">{{taskInfo.leader.nickName}}</div>\r\n                <div class=\"score\">领唱评分:{{taskInfo.leader.score}}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"bottom\">\r\n            <div\r\n              class=\"desc ellipsis\"\r\n              v-for=\"(item,index) in taskInfo.lyricList\"\r\n              :key=\"index\"\r\n            >{{item}}</div>\r\n            <div class=\"song\">《{{taskInfo.songName}}》 {{taskInfo.songAuthor}}\r\n              <button-play\r\n\t\t\t\t:musicUrl=\"taskInfo.leaderMusic\"\r\n                class=\"play-btn\"\r\n                color=\"#ff7a56\"\r\n                @click=\"handlePlayMusic\"\r\n              ></button-play>\r\n            </div>\r\n          </div>\r\n          <div class=\"status\">\r\n            <span class=\"time\">剩余时间：{{taskInfo.remainTime | formatSeconds}}</span>\r\n            <span class=\"jinbi\">剩余金币：{{taskInfo.remainGold}}</span>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"operateType === 'own_leader'\">\r\n          <div class=\"own-leader\">\r\n            <div class=\"bottom\">\r\n              <div\r\n                class=\"desc ellipsis\"\r\n                v-for=\"(item,index) in taskInfo.lyricList\"\r\n                :key=\"index\"\r\n              >{{item}}</div>\r\n              <div class=\"song\">《{{taskInfo.songName}}》 {{taskInfo.songAuthor}}\r\n                <button-play\r\n\t\t\t\t  :musicUrl=\"taskInfo.leaderMusic\"\r\n                  class=\"play-btn\"\r\n                  color=\"#ff7a56\"\r\n                  text=\"原唱\"\r\n                  @click=\"handlePlayMusic\"\r\n                ></button-play>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"operateType==='own_member'\">\r\n          <div class=\"own-member\">\r\n            <div\r\n              class=\"top\"\r\n              v-if=\"taskInfo.leader\"\r\n            >\r\n              <Avatar\r\n              :imgUrl=\"taskInfo.leader.avatarUrl\"\r\n              :uid=\"taskInfo.leader.uid\"\r\n              :nickName=\"taskInfo.leader.nickName\" />\r\n              <div class=\"buyer-info\">\r\n                <div class=\"buyer-name\">当前领唱人：{{taskInfo.leader.nickName}}</div>\r\n                <div class=\"score\">领唱评分：{{taskInfo.leader.score}}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <div\r\n                class=\"desc ellipsis\"\r\n                v-for=\"(item,index) in taskInfo.lyricList\"\r\n                :key=\"index\"\r\n              >{{item}}</div>\r\n              <div class=\"song\">《{{taskInfo.songName}}》 {{taskInfo.songAuthor}}\r\n                <button-play\r\n\t\t\t\t  :musicUrl=\"taskInfo.leaderMusic\"\r\n                  class=\"play-btn\"\r\n                  color=\"#ff7a56\"\r\n                  @click=\"handlePlayMusic\"\r\n                ></button-play>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <img\r\n          src=\"../assets/images/icon-recording.png\"\r\n          class=\"icon-recording\"\r\n          alt=\"\"\r\n          @click=\"handRecord\"\r\n        >\r\n\r\n      </div>\r\n    </div>\r\n    <van-popup\r\n      overlay-class=\"popup-rule\"\r\n      v-model=\"showRule\"\r\n    >\r\n      <div class=\"rule\">\r\n        <div class=\"title\">游戏规则</div>\r\n        <p>1.用户可以发布唱歌打赏，可限制男女参加。其他用户唱对歌曲可领到相应的奖励。</p>\r\n        <p>2.每人每首歌曲只有一次演唱机会，如果失败，将无法获得奖励</p>\r\n        <p>3.打赏的时间有效期为20分钟,超过20分钟,打赏结束,未领取完的金币自动退回到发布者的账户。</p>\r\n        <p>4.为了防止占坑,发布的用户可以选择私密打赏设置密码,也可在“我发布的打赏”中，点击用户头像，即可禁止该用户参加你的打赏。</p>\r\n        <div\r\n          class=\"close\"\r\n          @click=\"showRule=false\"\r\n        ><img\r\n            src=\"../assets/images/icon-close.png\"\r\n            alt=\"\"\r\n          ></div>\r\n      </div>\r\n    </van-popup>\r\n    <van-popup\r\n      overlay-class=\"popup-rule\"\r\n      v-model=\"showResult\"\r\n    >\r\n    <div class=\"result-img\">\r\n      <img :src=\"resultImg\" alt=\"\">\r\n    </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Button from \"@/components/Button\";\r\nimport ButtonPlay from \"@/components/button-play\";\r\nimport Avatar from \"@/components/avatar\";\r\nimport DialogJoin from \"@/components/dialog-join\";\r\nimport {mapGetters} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      showRule: false,\r\n      showResult: false,\r\n      info: {\r\n        imgUrl: require(\"../assets/images/avatar.png\")\r\n      },\r\n      taskInfo: {},\r\n      resultImg:require('../assets/images/fail.png'),\r\n      start: false,\r\n    };\r\n  },\r\n  created() {\r\n    let taskInfo = this.$route.query.taskInfo || \"{}\";\r\n    this.taskInfo = JSON.parse(taskInfo);\r\n    console.log(this.taskInfo);\r\n    console.log(this.operateType);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      'userInfo': 'userInfo'\r\n    }),\r\n    type() {\r\n      // 判断是领唱还是参加\r\n      if (this.taskInfo.leader) {\r\n        return \"member\";\r\n      } else {\r\n        return \"leader\";\r\n      }\r\n    },\r\n    operateType() {\r\n      // 区分了四种类型\r\n      if (this.taskInfo.taskId) {\r\n        if (this.taskInfo.leader) {\r\n          this.title = \"接歌\";\r\n          return \"join_member\"; // 点击别人发布的，已经有领唱\r\n        } else {\r\n          this.title = \"接歌\";\r\n          return \"join_leader\"; // 点击别人发布的，还没有领唱\r\n        }\r\n      } else {\r\n        this.title = \"我要领唱\";\r\n        if (this.taskInfo.leader) {\r\n          return \"own_member\"; // 首页点击我要领唱进来的，已经有领唱\r\n        } else {\r\n          return \"own_leader\"; // 首页点击我要领唱进来的，还没有领唱\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.back();\r\n    },\r\n    onClickRight() {},\r\n    handlePlayMusic() {\r\n      // todo 这里调用原生播放音乐\r\n      console.log(this.taskInfo);\r\n      playVoice(this.userInfo.p,this.taskInfo.leaderMusic);\r\n    },\r\n    handRecord() {\r\n      // todo 这里调用原生录音\r\n      if(true || this.start == false){\r\n        console.log(this.taskInfo);\r\n        let obj = {act:'sing',id:this.taskInfo.taskId ? this.taskInfo.taskId : this.taskInfo.songId,type:this.taskInfo.taskId ? 'member' : 'leader'};\r\n        console.log(obj);\r\n        this.start = true;\r\n        setTimeout(() => {\r\n          this.start = true;\r\n        },3000)\r\n        Voice(this.userInfo.p,this.taskInfo.lyric,JSON.stringify(obj));\r\n      }\r\n    },\r\n    voiceCall(res){\r\n      if(this.taskInfo.taskId){ // 参与\r\n        if(res.error_code == 0){\r\n          this.resultImg = require('../assets/images/success.png')\r\n          this.showResult = true;\r\n        }else if(res.error_code == 1){\r\n          this.resultImg = require('../assets/images/fail.png')\r\n          this.showResult = true;\r\n        }else{\r\n          this.$toast(res.msg);\r\n        }\r\n        setTimeout(() => {\r\n          this.$router.push({\r\n            path: '/'\r\n          })\r\n        },2500);\r\n        \r\n      }else{ // 领唱\r\n        this.$toast(res.msg);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    window['voiceCall'] = res => {\r\n      this.voiceCall(res);\r\n    }\r\n  },\r\n  components: {\r\n    Button,\r\n    Avatar,\r\n    ButtonPlay,\r\n    DialogJoin\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"../assets/css/variable\";\r\n.banner {\r\n  position: relative;\r\n  .button-operate {\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: torem(852);\r\n    left: 50%;\r\n    bottom: torem(174);\r\n    margin-left: torem(-426);\r\n  }\r\n  .btn-rule {\r\n    position: absolute;\r\n    right: torem(45);\r\n    top: 0;\r\n    width: torem(180);\r\n    height: torem(170);\r\n    text-align: center;\r\n    font-size: torme(48);\r\n    color: #fff;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n    border-radius: 0 0 torem(180) torem(180);\r\n    box-sizing: border-box;\r\n    padding: torem(10) torem(30) 0;\r\n  }\r\n}\r\n.list {\r\n  padding: torem(45) torem(40) torem(90);\r\n  background: #4d45be;\r\n  .list-item + .list-item {\r\n    margin-top: torem(120);\r\n  }\r\n}\r\n.circle-button {\r\n  position: fixed;\r\n  box-sizing: border-box;\r\n  padding: 0 torem(20);\r\n  padding-top: torem(20);\r\n  right: torem(10);\r\n  bottom: torem(90);\r\n  width: torem(162);\r\n  height: torem(162);\r\n  text-align: center;\r\n  font-size: torem(42);\r\n  color: #fff;\r\n  border-radius: 50%;\r\n  background-color: rgb(255, 116, 78);\r\n  box-shadow: 0px torem(14) torem(10) 0px rgba(85, 65, 162, 0.4),\r\n    inset 0px torem(23) torem(62) 0px rgba(255, 255, 255, 0.24);\r\n}\r\n.popup-rule {\r\n  background-color: transparent;\r\n}\r\n.rule {\r\n  width: torem(800);\r\n  border-radius: torem(60);\r\n  background-color: rgb(111, 104, 216);\r\n  box-shadow: 0px torem(14) torem(10) 0px rgba(85, 65, 162, 0.4),\r\n    inset 0px torem(23) torem(62) 0px rgba(255, 255, 255, 0.24);\r\n  box-sizing: border-box;\r\n  padding: 0 torem(40) torem(100);\r\n  font-size: torem(30);\r\n  color: #fff;\r\n  position: relative;\r\n  margin: 0 auto;\r\n  .title {\r\n    font-size: torem(42);\r\n    line-height: torem(150);\r\n    text-align: center;\r\n  }\r\n  .close {\r\n    position: absolute;\r\n    width: torem(54);\r\n    height: torem(54);\r\n    left: 50%;\r\n    bottom: torem(-100);\r\n    margin-left: torem(-27);\r\n  }\r\n}\r\n.joiner {\r\n  position: relative;\r\n  width: torem(1000);\r\n  padding: torem(100) torem(30) torem(120);\r\n  background-color: #fff;\r\n  border-radius: torem(60) torem(20) torem(60) torem(20);\r\n  margin: torem(-150) auto torem(100);\r\n  .top {\r\n    height: torem(200);\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: torem(26);\r\n    .left {\r\n      display: flex;\r\n      width: torem(500);\r\n      align-items: center;\r\n      .seller-info {\r\n        flex: 1;\r\n        margin-left: torem(20);\r\n        margin-top: torem(10);\r\n        .seller-name {\r\n          font-size: torem(36);\r\n          color: #666666;\r\n          padding-left: torem(5);\r\n        }\r\n        .seller-grade {\r\n          height: torem(60);\r\n          line-height: torem(60);\r\n          display: inline-flex;\r\n          padding: 0 torem(10);\r\n          text-align: center;\r\n          border-radius: torem(60);\r\n          background-color: #4f47c0;\r\n          font-size: torem(32);\r\n          color: #fff;\r\n          overflow: hidden;\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      flex: 1;\r\n      margin-left: torem(47);\r\n      display: flex;\r\n      align-items: center;\r\n      .buyer-info {\r\n        flex: 1;\r\n        margin-left: torem(40);\r\n        margin-top: torem(10);\r\n        .buyer-name {\r\n          font-size: torem(36);\r\n          color: #666666;\r\n        }\r\n        .score {\r\n          font-size: torem(36);\r\n          color: #6f68d8;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .bottom {\r\n    border-top: 1px solid #eaeaea;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding-top: torem(70);\r\n    .desc {\r\n      color: #666666;\r\n      font-size: torem(42);\r\n      line-height: torem(64);\r\n      text-align: center;\r\n    }\r\n    .song {\r\n      color: #bebebe;\r\n      font-size: torem(34);\r\n      margin-top: torem(30);\r\n      display: flex;\r\n      align-items: center;\r\n      .btn-play {\r\n        margin-left: torem(18);\r\n      }\r\n      .play-btn {\r\n        margin-left: torem(30);\r\n      }\r\n    }\r\n  }\r\n  .icon-recording {\r\n    margin: torem(180) auto 0;\r\n    display: block;\r\n    width: torem(240);\r\n  }\r\n  .status {\r\n    position: absolute;\r\n    right: 0;\r\n    top: torem(-38);\r\n    min-width: torem(640);\r\n    height: torem(76);\r\n    background-color: rgb(255, 106, 237);\r\n    line-height: torem(76);\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding-right: torem(38);\r\n    border-radius: torem(40) torem(20) torem(10) torem(10);\r\n    box-shadow: 0px torem(14) torem(10) 0px rgba(85, 65, 162, 0.4),\r\n      inset 0px torem(23) torem(62) 0px rgba(255, 255, 255, 0.5);\r\n    font-size: torem(30);\r\n    color: #fff;\r\n    .jinbi {\r\n      margin-left: torem(35);\r\n    }\r\n  }\r\n  .song-info {\r\n    text-align: center;\r\n    padding-top: torem(80);\r\n    .lyric {\r\n      font-size: torem(42);\r\n      color: #666666;\r\n    }\r\n    .song {\r\n      color: #ff643a;\r\n      font-size: torem(34);\r\n      margin-top: torem(40);\r\n    }\r\n  }\r\n  .own-member {\r\n    text-align: left;\r\n    padding-top: torem(80);\r\n    .bottom{\r\n      border-top: 0 none;\r\n    }\r\n    .top {\r\n      flex: 1;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-bottom: 1px solid #eaeaea;\r\n      margin-top: torem(-110);\r\n      .buyer-info {\r\n        margin-left: torem(30);\r\n        .buyer-name {\r\n          font-size: torem(36);\r\n          color: #666666;\r\n        }\r\n        .score {\r\n          font-size: torem(36);\r\n          color: #6f68d8;\r\n          margin-top: torem(20);\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n  .own-leader{\r\n    .bottom{\r\n      border: 0 none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style>\r\n.container .van-popup {\r\n  background-color: transparent;\r\n  overflow-y: inherit;\r\n}\r\n.result-img {\r\n    width:22rem;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/join.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.title,\"left-text\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('section',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/join-banner.jpg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"button-operate\"}),_vm._v(\" \"),_c('div',{staticClass:\"btn-rule\",on:{\"click\":function($event){_vm.showRule=true}}},[_vm._v(\"活动规则\")])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"joiner\"},[(_vm.operateType==='join_member' || _vm.operateType==='join_leader')?[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"left\"},[_c('Avatar',{attrs:{\"imgUrl\":_vm.taskInfo.seller.avatarUrl,\"uid\":_vm.taskInfo.seller.uid,\"nickName\":_vm.taskInfo.seller.nickName,\"type\":\"seller\"}}),_vm._v(\" \"),_c('div',{staticClass:\"seller-info\"},[_c('div',{staticClass:\"seller-name\"},[_vm._v(_vm._s(_vm.taskInfo.seller.nickName))]),_vm._v(\" \"),_c('div',{staticClass:\"seller-grade\"},[_vm._v(_vm._s(_vm.taskInfo.grade))])])],1),_vm._v(\" \"),(_vm.taskInfo.leader)?_c('div',{staticClass:\"right\"},[_c('Avatar',{attrs:{\"imgUrl\":_vm.taskInfo.leader.avatarUrl,\"uid\":_vm.taskInfo.leader.uid,\"nickName\":_vm.taskInfo.leader.nickName,\"type\":\"buyer\"}}),_vm._v(\" \"),_c('div',{staticClass:\"buyer-info\"},[_c('div',{staticClass:\"buyer-name\"},[_vm._v(_vm._s(_vm.taskInfo.leader.nickName))]),_vm._v(\" \"),_c('div',{staticClass:\"score\"},[_vm._v(\"领唱评分:\"+_vm._s(_vm.taskInfo.leader.score))])])],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_vm._l((_vm.taskInfo.lyricList),function(item,index){return _c('div',{key:index,staticClass:\"desc ellipsis\"},[_vm._v(_vm._s(item))])}),_vm._v(\" \"),_c('div',{staticClass:\"song\"},[_vm._v(\"《\"+_vm._s(_vm.taskInfo.songName)+\"》 \"+_vm._s(_vm.taskInfo.songAuthor)+\"\\n              \"),_c('button-play',{staticClass:\"play-btn\",attrs:{\"musicUrl\":_vm.taskInfo.leaderMusic,\"color\":\"#ff7a56\"},on:{\"click\":_vm.handlePlayMusic}})],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[_c('span',{staticClass:\"time\"},[_vm._v(\"剩余时间：\"+_vm._s(_vm._f(\"formatSeconds\")(_vm.taskInfo.remainTime)))]),_vm._v(\" \"),_c('span',{staticClass:\"jinbi\"},[_vm._v(\"剩余金币：\"+_vm._s(_vm.taskInfo.remainGold))])])]:(_vm.operateType === 'own_leader')?[_c('div',{staticClass:\"own-leader\"},[_c('div',{staticClass:\"bottom\"},[_vm._l((_vm.taskInfo.lyricList),function(item,index){return _c('div',{key:index,staticClass:\"desc ellipsis\"},[_vm._v(_vm._s(item))])}),_vm._v(\" \"),_c('div',{staticClass:\"song\"},[_vm._v(\"《\"+_vm._s(_vm.taskInfo.songName)+\"》 \"+_vm._s(_vm.taskInfo.songAuthor)+\"\\n                \"),_c('button-play',{staticClass:\"play-btn\",attrs:{\"musicUrl\":_vm.taskInfo.leaderMusic,\"color\":\"#ff7a56\",\"text\":\"原唱\"},on:{\"click\":_vm.handlePlayMusic}})],1)],2)])]:(_vm.operateType==='own_member')?[_c('div',{staticClass:\"own-member\"},[(_vm.taskInfo.leader)?_c('div',{staticClass:\"top\"},[_c('Avatar',{attrs:{\"imgUrl\":_vm.taskInfo.leader.avatarUrl,\"uid\":_vm.taskInfo.leader.uid,\"nickName\":_vm.taskInfo.leader.nickName}}),_vm._v(\" \"),_c('div',{staticClass:\"buyer-info\"},[_c('div',{staticClass:\"buyer-name\"},[_vm._v(\"当前领唱人：\"+_vm._s(_vm.taskInfo.leader.nickName))]),_vm._v(\" \"),_c('div',{staticClass:\"score\"},[_vm._v(\"领唱评分：\"+_vm._s(_vm.taskInfo.leader.score))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_vm._l((_vm.taskInfo.lyricList),function(item,index){return _c('div',{key:index,staticClass:\"desc ellipsis\"},[_vm._v(_vm._s(item))])}),_vm._v(\" \"),_c('div',{staticClass:\"song\"},[_vm._v(\"《\"+_vm._s(_vm.taskInfo.songName)+\"》 \"+_vm._s(_vm.taskInfo.songAuthor)+\"\\n                \"),_c('button-play',{staticClass:\"play-btn\",attrs:{\"musicUrl\":_vm.taskInfo.leaderMusic,\"color\":\"#ff7a56\"},on:{\"click\":_vm.handlePlayMusic}})],1)],2)])]:_vm._e(),_vm._v(\" \"),_c('img',{staticClass:\"icon-recording\",attrs:{\"src\":require(\"../assets/images/icon-recording.png\"),\"alt\":\"\"},on:{\"click\":_vm.handRecord}})],2)]),_vm._v(\" \"),_c('van-popup',{attrs:{\"overlay-class\":\"popup-rule\"},model:{value:(_vm.showRule),callback:function ($$v) {_vm.showRule=$$v},expression:\"showRule\"}},[_c('div',{staticClass:\"rule\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"游戏规则\")]),_vm._v(\" \"),_c('p',[_vm._v(\"1.用户可以发布唱歌打赏，可限制男女参加。其他用户唱对歌曲可领到相应的奖励。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"2.每人每首歌曲只有一次演唱机会，如果失败，将无法获得奖励\")]),_vm._v(\" \"),_c('p',[_vm._v(\"3.打赏的时间有效期为20分钟,超过20分钟,打赏结束,未领取完的金币自动退回到发布者的账户。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"4.为了防止占坑,发布的用户可以选择私密打赏设置密码,也可在“我发布的打赏”中，点击用户头像，即可禁止该用户参加你的打赏。\")]),_vm._v(\" \"),_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.showRule=false}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/icon-close.png\"),\"alt\":\"\"}})])])]),_vm._v(\" \"),_c('van-popup',{attrs:{\"overlay-class\":\"popup-rule\"},model:{value:(_vm.showResult),callback:function ($$v) {_vm.showResult=$$v},expression:\"showResult\"}},[_c('div',{staticClass:\"result-img\"},[_c('img',{attrs:{\"src\":_vm.resultImg,\"alt\":\"\"}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e13e9a5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/join.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e13e9a5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./join.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e13e9a5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./join.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./join.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./join.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e13e9a5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./join.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e13e9a5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/join.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}